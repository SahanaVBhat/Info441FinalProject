{"ast":null,"code":"import _regeneratorRuntime from \"/Users/paola/go/src/Info441FinalProject/clients/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/paola/go/src/Info441FinalProject/clients/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/paola/go/src/Info441FinalProject/clients/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/paola/go/src/Info441FinalProject/clients/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/paola/go/src/Info441FinalProject/clients/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/paola/go/src/Info441FinalProject/clients/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/paola/go/src/Info441FinalProject/clients/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/paola/go/src/Info441FinalProject/clients/src/Components/Evaluations/Card.js\";\nimport React from \"react\";\nimport api from '../../Constants/APIEndpoints/APIEndpoints';\nimport { getEvals } from './CardList.js';\nimport { withRouter } from \"react-router\";\n\nvar Card =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Card, _React$Component);\n\n  function Card(props) {\n    var _this;\n\n    _classCallCheck(this, Card);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Card).call(this, props));\n\n    _this.setError = function (error) {\n      _this.setState({\n        error: error\n      });\n    };\n\n    _this.goToCarddetails = function (cardId) {\n      localStorage.setItem(\"selectedCard\", cardId);\n\n      _this.props.history.push(cardId);\n    };\n\n    _this.unhide = function () {\n      _this.setState({\n        evalID: _this.props.classInfo.id\n      }, function () {\n        document.getElementById(\"input-\" + _this.state.evalID).hidden = false;\n        document.getElementById(\"submit-\" + _this.state.evalID).hidden = false;\n      });\n    };\n\n    _this.handleEdit = function () {\n      _this.setState({\n        evalID: _this.props.classInfo.id,\n        authToken: localStorage.getItem(\"Authorization\") || null,\n        newDescr: _this.updt.value\n      }, function () {\n        _this.patchEval();\n      });\n    };\n\n    _this.handleRemove = function () {\n      _this.setState({\n        evalID: _this.props.classInfo.id,\n        authToken: localStorage.getItem(\"Authorization\") || null\n      }, function () {\n        _this.removeEval();\n      });\n    };\n\n    _this.patchEval =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var response, error;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(\"in patch eval\");\n\n              if (_this.state.authToken) {\n                _context.next = 3;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 3:\n              _context.next = 5;\n              return fetch(api.base + api.handlers.evaluations + \"/\" + _this.state.evalID, {\n                method: \"PATCH\",\n                headers: new Headers({\n                  \"Authorization\": _this.state.authToken,\n                  \"Content-type\": \"application/json\"\n                }),\n                body: JSON.stringify({\n                  description: _this.state.newDescr\n                })\n              });\n\n            case 5:\n              response = _context.sent;\n              // hide submit and text input for edit \n              document.getElementById(\"input-\" + _this.state.evalID).hidden = true;\n              document.getElementById(\"submit-\" + _this.state.evalID).hidden = true; // check response status for errors\n\n              if (!(response.status >= 300)) {\n                _context.next = 15;\n                break;\n              }\n\n              _context.next = 11;\n              return response.text();\n\n            case 11:\n              error = _context.sent;\n\n              _this.setError(error);\n\n              alert(error);\n              return _context.abrupt(\"return\");\n\n            case 15:\n              alert(\"Evaluation was successfully updated! Click in 'Read Evaluations' to view updates\");\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n    _this.removeEval =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      var response, error;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (_this.state.authToken) {\n                _context2.next = 2;\n                break;\n              }\n\n              return _context2.abrupt(\"return\");\n\n            case 2:\n              _context2.next = 4;\n              return fetch(api.base + api.handlers.evaluations + \"/\" + _this.state.evalID, {\n                method: \"DELETE\",\n                headers: new Headers({\n                  \"Authorization\": _this.state.authToken\n                })\n              });\n\n            case 4:\n              response = _context2.sent;\n\n              if (!(response.status >= 300)) {\n                _context2.next = 12;\n                break;\n              }\n\n              _context2.next = 8;\n              return response.text();\n\n            case 8:\n              error = _context2.sent;\n\n              _this.setError(error);\n\n              alert(error);\n              return _context2.abrupt(\"return\");\n\n            case 12:\n              alert(\"Evaluation was successfully deleted! Click in 'Read Evaluations' to view updates\");\n\n            case 13:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n    _this.state = {\n      evalID: 0,\n      authToken: null,\n      newDescr: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(Card, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return (//<div className=\"card\" onClick = {()=>this.goToCarddetails(this.props.classInfo.id.toString())}>\n        React.createElement(\"div\", {\n          className: \"card\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 30\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"card-body\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 31\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          className: \"card-title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 32\n          },\n          __self: this\n        }, \"Evaluation #\", this.props.value + 1), React.createElement(\"h5\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33\n          },\n          __self: this\n        }, \"Credit Type: \", this.props.classInfo.creditType), React.createElement(\"h5\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 34\n          },\n          __self: this\n        }, \"Instructors: \", this.props.classInfo.instructors.map(function (instructor) {\n          return instructor.name;\n        })), React.createElement(\"h5\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35\n          },\n          __self: this\n        }, \"Quarter: \", this.props.classInfo.quarter), React.createElement(\"h5\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36\n          },\n          __self: this\n        }, \"Credit Type: \", this.props.classInfo.creditType), React.createElement(\"h5\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37\n          },\n          __self: this\n        }, \"Workload: \", this.props.classInfo.workload), React.createElement(\"h5\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38\n          },\n          __self: this\n        }, \"Grading fairness: \", this.props.classInfo.gradingTechniques), React.createElement(\"h5\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39\n          },\n          __self: this\n        }, \"Comments: \", this.props.classInfo.description)), React.createElement(\"div\", {\n          className: \"card-buttons\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          type: \"button\",\n          class: \"btn btn-primary\",\n          onClick: this.unhide,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42\n          },\n          __self: this\n        }, \"Edit\"), React.createElement(\"button\", {\n          type: \"button\",\n          class: \"btn btn-primary\",\n          onClick: this.handleRemove,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43\n          },\n          __self: this\n        }, \"Remove\")), React.createElement(\"div\", {\n          className: \"card-update-textbox\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"text\",\n          placeholder: \"Description...\",\n          id: \"input-\" + this.props.classInfo.id,\n          ref: function ref(input) {\n            return _this2.updt = input;\n          },\n          hidden: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46\n          },\n          __self: this\n        }), React.createElement(\"button\", {\n          type: \"button\",\n          class: \"btn btn-primary\",\n          id: \"submit-\" + this.props.classInfo.id,\n          onClick: this.handleEdit,\n          hidden: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        }, \"Submit\")))\n      );\n    } // updateEvalsList = () => {\n    //   CardList.setState({\n    //     evals: []\n    //   }, () => {\n    //     CardList.getEvals(this.props.classInfo.courseID)\n    //   })\n    // }\n\n  }]);\n\n  return Card;\n}(React.Component);\n\nexport default withRouter(Card);","map":{"version":3,"sources":["/Users/paola/go/src/Info441FinalProject/clients/src/Components/Evaluations/Card.js"],"names":["React","api","getEvals","withRouter","Card","props","setError","error","setState","goToCarddetails","cardId","localStorage","setItem","history","push","unhide","evalID","classInfo","id","document","getElementById","state","hidden","handleEdit","authToken","getItem","newDescr","updt","value","patchEval","handleRemove","removeEval","console","log","fetch","base","handlers","evaluations","method","headers","Headers","body","JSON","stringify","description","response","status","text","alert","creditType","instructors","map","instructor","name","quarter","workload","gradingTechniques","input","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport api from '../../Constants/APIEndpoints/APIEndpoints';\nimport {getEvals} from './CardList.js'\nimport { withRouter } from \"react-router\";\n\n\nclass Card extends React.Component {\n  setError = (error) => {\n    this.setState({ error })\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      evalID: 0,\n      authToken: null,\n      newDescr: \"\"\n    };\n  }\n\n  goToCarddetails = (cardId) => {\n      localStorage.setItem(\"selectedCard\", cardId);\n      this.props.history.push(cardId);\n  }\n\n  render() {\n      return ( \n          //<div className=\"card\" onClick = {()=>this.goToCarddetails(this.props.classInfo.id.toString())}>\n          <div className=\"card\">\n          <div className=\"card-body\">\n            <h3 className=\"card-title\">Evaluation #{this.props.value+1}</h3>\n            <h5>Credit Type: {this.props.classInfo.creditType}</h5>\n            <h5>Instructors: {this.props.classInfo.instructors.map((instructor) => instructor.name)}</h5>\n            <h5>Quarter: {this.props.classInfo.quarter}</h5>\n            <h5>Credit Type: {this.props.classInfo.creditType}</h5>\n            <h5>Workload: {this.props.classInfo.workload}</h5>\n            <h5>Grading fairness: {this.props.classInfo.gradingTechniques}</h5>\n            <h5>Comments: {this.props.classInfo.description}</h5>\n          </div>\n          <div className=\"card-buttons\">\n            <button type=\"button\" class=\"btn btn-primary\" onClick={this.unhide}>Edit</button>\n            <button type=\"button\" class=\"btn btn-primary\" onClick={this.handleRemove}>Remove</button>\n          </div>\n          <div className=\"card-update-textbox\">\n            <input type=\"text\" placeholder=\"Description...\" id={\"input-\" + this.props.classInfo.id} ref={input => this.updt = input} hidden></input>\n            <button type=\"button\" class=\"btn btn-primary\" id={\"submit-\" + this.props.classInfo.id} onClick={this.handleEdit} hidden>Submit</button>\n          </div>\n        </div>\n      )\n  }\n\n  unhide = () => {\n    this.setState({\n      evalID: this.props.classInfo.id\n    }, () => {\n      document.getElementById(\"input-\" + this.state.evalID).hidden = false;\n      document.getElementById(\"submit-\" + this.state.evalID).hidden = false;\n    })\n  }\n\n  handleEdit = () => {\n    this.setState({\n      evalID: this.props.classInfo.id,\n      authToken: localStorage.getItem(\"Authorization\") || null,\n      newDescr: this.updt.value\n    }, () => {\n      this.patchEval()\n    })\n  }\n\n  handleRemove = () => {\n    this.setState({\n      evalID: this.props.classInfo.id,\n      authToken: localStorage.getItem(\"Authorization\") || null\n    }, () => {\n      this.removeEval()\n    })\n  }\n\n  // updates specific evaluation\n  patchEval = async() => {\n    console.log(\"in patch eval\")\n    if (!this.state.authToken) {\n      return;\n    }\n\n    // PATCH /v1/evaluations/:evaluationID\n    const response = await fetch(api.base + api.handlers.evaluations + \"/\" + this.state.evalID, \n      { \n        method: \"PATCH\", \n        headers: new Headers({\n          \"Authorization\": this.state.authToken,\n          \"Content-type\": \"application/json\"\n        }),\n        body: JSON.stringify({description: this.state.newDescr})\n      });\n\n    // hide submit and text input for edit \n    document.getElementById(\"input-\" + this.state.evalID).hidden = true;\n    document.getElementById(\"submit-\" + this.state.evalID).hidden = true;\n    \n    // check response status for errors\n    if (response.status >= 300) {\n      const error = await response.text();\n      this.setError(error);\n      alert(error)\n      return;\n    }\n\n    alert(\"Evaluation was successfully updated! Click in 'Read Evaluations' to view updates\");\n  }\n\n  // removes specific evaluation \n  removeEval = async() => {\n    if (!this.state.authToken) {\n      return;\n    }\n\n    // DELETE /v1/evaluations/:evaluationID\n    const response = await fetch(api.base + api.handlers.evaluations + \"/\" + this.state.evalID, \n      { \n        method: \"DELETE\", \n        headers: new Headers({\n        \"Authorization\": this.state.authToken\n      })\n    });\n\n    // check response for errors\n    if (response.status >= 300) {\n      const error = await response.text();\n      this.setError(error);\n      alert(error);\n      return;\n    }\n\n    alert(\"Evaluation was successfully deleted! Click in 'Read Evaluations' to view updates\");\n  }\n\n  // updateEvalsList = () => {\n  //   CardList.setState({\n  //     evals: []\n  //   }, () => {\n  //     CardList.getEvals(this.props.classInfo.courseID)\n  //   })\n  // }\n}\n \nexport default withRouter(Card);"]},"metadata":{},"sourceType":"module"}