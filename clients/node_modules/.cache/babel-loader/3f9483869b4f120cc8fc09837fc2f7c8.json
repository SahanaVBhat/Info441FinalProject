{"ast":null,"code":"import _regeneratorRuntime from \"/Users/paola/go/src/Info441FinalProject/clients/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/paola/go/src/Info441FinalProject/clients/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/paola/go/src/Info441FinalProject/clients/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/paola/go/src/Info441FinalProject/clients/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/paola/go/src/Info441FinalProject/clients/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/paola/go/src/Info441FinalProject/clients/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/paola/go/src/Info441FinalProject/clients/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/paola/go/src/Info441FinalProject/clients/src/Components/CardList.js\";\nimport React, { Component } from \"react\";\nimport \"../Styles/App.css\";\nimport api from './../Constants/APIEndpoints/APIEndpoints';\nimport Errors from './Errors/Errors';\n\nvar CardList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CardList, _Component);\n\n  function CardList(props) {\n    var _this;\n\n    _classCallCheck(this, CardList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CardList).call(this, props));\n\n    _this.setError = function (error) {\n      _this.setState({\n        error: error\n      });\n    };\n\n    _this.handleEvalClick = function () {\n      _this.setState({\n        evals: []\n      }, function () {\n        _this.getEvals(_this.props.classInfo[0]); //this.getEvals()\n\n      });\n    };\n\n    _this.getEvals =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var response, error, evals, currEvals;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(_this.state.courseID);\n              _context.next = 3;\n              return fetch(api.base + api.handlers.courses + \"/\" + _this.state.courseID + \"/evaluations\", {\n                method: \"GET\"\n              });\n\n            case 3:\n              response = _context.sent;\n\n              if (!(response.status >= 300)) {\n                _context.next = 10;\n                break;\n              }\n\n              _context.next = 7;\n              return response.text();\n\n            case 7:\n              error = _context.sent;\n\n              _this.setError(error);\n\n              return _context.abrupt(\"return\");\n\n            case 10:\n              _context.next = 12;\n              return response.json();\n\n            case 12:\n              evals = _context.sent;\n\n              // check if there is more than one evaluation for course \n              if (evals.length > 0) {\n                // get current evals saved in state\n                currEvals = _this.state.evals; // for each evaluation:\n                // -- create array containg all eval information to display\n                // -- add eval to currEvals (for state)\n\n                evals.forEach(function (e) {\n                  var evalInfo = [e.id, e.studentID, e.courseID, e.instructors[0]['name'], e.year, e.quarter, e.creditType, e.credits, e.workload, e.gradingTechniques, e.description, e.likedUsers.length, e.dislikedUsers.length, e.createdAt, e.editedAt];\n                  currEvals.push(evalInfo);\n                });\n\n                _this.setState({\n                  evals: currEvals\n                });\n\n                _this.setError(\"\");\n              }\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n    _this.state = {\n      evals: []\n    };\n    return _this;\n  }\n\n  _createClass(CardList, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        class: \"card text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 22\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"card-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23\n        },\n        __self: this\n      }, this.props.classInfo[1]), React.createElement(\"div\", {\n        class: \"card-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        class: \"card-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27\n        },\n        __self: this\n      }, this.props.classInfo[2]), React.createElement(\"p\", {\n        class: \"card-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      }, this.props.classInfo[3]), React.createElement(\"a\", {\n        href: \"#\",\n        class: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, \"Add Evaluation\"), React.createElement(\"a\", {\n        href: \"#\",\n        class: \"btn btn-primary\",\n        onClick: this.handleEvalClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      }, \"Read Evaluations\")));\n    }\n  }]);\n\n  return CardList;\n}(Component); // class CardList extends Component {\n//   render() {\n//     return <Card id={this.props.classInfo[0]} course={this.props.classInfo[1]} name={this.props.classInfo[2]} d={this.props.classInfo[3]}/>;\n//   }\n// }\n\n\nexport default CardList;","map":{"version":3,"sources":["/Users/paola/go/src/Info441FinalProject/clients/src/Components/CardList.js"],"names":["React","Component","api","Errors","CardList","props","setError","error","setState","handleEvalClick","evals","getEvals","classInfo","console","log","state","courseID","fetch","base","handlers","courses","method","response","status","text","json","length","currEvals","forEach","e","evalInfo","id","studentID","instructors","year","quarter","creditType","credits","workload","gradingTechniques","description","likedUsers","dislikedUsers","createdAt","editedAt","push"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"../Styles/App.css\";\nimport api from './../Constants/APIEndpoints/APIEndpoints';\nimport Errors from './Errors/Errors';\n\nclass CardList extends Component {\n    setError = (error) => {\n        this.setState({ error })\n    }\n\n    constructor(props) {\n        super(props);\n    \n        this.state = {\n          evals: []\n        };\n      }\n\n    render() {\n        \n        return (\n            <div class=\"card text-center\">\n                <div class=\"card-header\">\n                    {this.props.classInfo[1]} \n                </div>\n                <div class=\"card-body\">\n                    <h5 class=\"card-title\">{this.props.classInfo[2]}</h5>\n                    <p class=\"card-text\">{this.props.classInfo[3]}</p>\n                    <a href=\"#\" class=\"btn btn-primary\">Add Evaluation</a>\n                    <a href=\"#\" class=\"btn btn-primary\" onClick={this.handleEvalClick}>Read Evaluations</a>\n                </div>\n            </div>\n        );\n    }\n\n    handleEvalClick = () => {\n        this.setState({\n          evals: []\n        }, () => {\n          this.getEvals(this.props.classInfo[0])\n          //this.getEvals()\n        })\n      }\n\n    getEvals = async () => {\n        console.log(this.state.courseID)\n        const response = await fetch(api.base + api.handlers.courses + \"/\" + this.state.courseID + \"/evaluations\", {method: \"GET\"});\n        if (response.status >= 300) {\n        const error = await response.text();\n        this.setError(error);\n        return;\n        }\n\n        const evals = await response.json();\n        \n        // check if there is more than one evaluation for course \n        if (evals.length > 0) {\n        // get current evals saved in state\n        let currEvals = this.state.evals;\n\n        // for each evaluation:\n        // -- create array containg all eval information to display\n        // -- add eval to currEvals (for state)\n        evals.forEach(function(e) {\n            let evalInfo = [e.id, e.studentID, e.courseID, e.instructors[0]['name'], e.year, e.quarter, e.creditType, e.credits, e.workload, e.gradingTechniques, e.description, e.likedUsers.length, e.dislikedUsers.length, e.createdAt, e.editedAt]\n\n            currEvals.push(evalInfo);\n        })\n\n        this.setState({\n            evals: currEvals\n        })\n        this.setError(\"\");\n        }\n    }\n}\n// class CardList extends Component {\n//   render() {\n//     return <Card id={this.props.classInfo[0]} course={this.props.classInfo[1]} name={this.props.classInfo[2]} d={this.props.classInfo[3]}/>;\n//   }\n// }\nexport default CardList;"]},"metadata":{},"sourceType":"module"}