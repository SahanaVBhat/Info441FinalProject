{"ast":null,"code":"import _regeneratorRuntime from \"/Users/paola/go/src/Info441FinalProject/clients/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/paola/go/src/Info441FinalProject/clients/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/paola/go/src/Info441FinalProject/clients/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/paola/go/src/Info441FinalProject/clients/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/paola/go/src/Info441FinalProject/clients/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/paola/go/src/Info441FinalProject/clients/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/paola/go/src/Info441FinalProject/clients/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/paola/go/src/Info441FinalProject/clients/src/Components/CardList.js\";\nimport React, { Component } from \"react\";\nimport \"../Styles/App.css\";\nimport api from './../Constants/APIEndpoints/APIEndpoints';\n\nvar CardList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CardList, _Component);\n\n  function CardList(props) {\n    var _this;\n\n    _classCallCheck(this, CardList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CardList).call(this, props));\n\n    _this.setError = function (error) {\n      _this.setState({\n        error: error\n      });\n    };\n\n    _this.handleEvalClick = function () {\n      _this.setState({\n        evals: []\n      }, function () {\n        _this.getEvals(_this.props.classInfo[0]); //this.getEvals()\n\n      });\n    };\n\n    _this.getEvals =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(courseID) {\n        var response, error, evals, currEvals, instructor, instrText, descr, descrText, created, createdText;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch(api.base + api.handlers.courses + \"/\" + courseID + \"/evaluations\", {\n                  method: \"GET\"\n                });\n\n              case 2:\n                response = _context.sent;\n\n                if (!(response.status >= 300)) {\n                  _context.next = 9;\n                  break;\n                }\n\n                _context.next = 6;\n                return response.text();\n\n              case 6:\n                error = _context.sent;\n\n                _this.setError(error);\n\n                return _context.abrupt(\"return\");\n\n              case 9:\n                _context.next = 11;\n                return response.json();\n\n              case 11:\n                evals = _context.sent;\n\n                // check if there is more than one evaluation for course \n                if (evals.length > 0) {\n                  // get current evals saved in state\n                  currEvals = _this.state.evals; // for each evaluation:\n                  // -- create array containg all eval information to display\n                  // -- add eval to currEvals (for state)\n\n                  evals.forEach(function (e) {\n                    var evalInfo = [e.id, e.studentID, e.courseID, e.instructors[0]['name'], e.year, e.quarter, e.creditType, e.credits, e.workload, e.gradingTechniques, e.description, e.likedUsers.length, e.dislikedUsers.length, e.createdAt, e.editedAt];\n                    currEvals.push(evalInfo);\n                  });\n\n                  _this.setState({\n                    evals: currEvals\n                  });\n\n                  _this.setError(\"\"); // add evaluations to page \n\n\n                  if (_this.state.evals[0] != null) {\n                    // instructor \n                    instructor = document.createElement(\"P\");\n                    instrText = document.createTextNode(\"Instructor(s): \" + _this.state.evals[0][3]);\n                    instructor.appendChild(instrText); // description\n\n                    descr = document.createElement(\"P\");\n                    descrText = document.createTextNode(\"Description: \" + _this.state.evals[0][10]);\n                    descr.appendChild(descrText); // created at \n\n                    created = document.createElement(\"P\");\n                    createdText = document.createTextNode(\"Description: \" + _this.state.evals[0][13]);\n                    created.appendChild(createdText);\n                    document.getElementById(\"hi\").appendChild(document.createElement(\"HR\"));\n                    document.getElementById(\"hi\").appendChild(instructor);\n                    document.getElementById(\"hi\").appendChild(descr);\n                    document.getElementById(\"hi\").appendChild(created);\n                  }\n                } else {\n                  _this.setState({\n                    evals: [\"no evaluations for this course\"]\n                  });\n                }\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.state = {\n      evals: []\n    };\n    return _this;\n  }\n\n  _createClass(CardList, [{\n    key: \"render\",\n    value: function render() {\n      if (this.props.classInfo.length != 0) {\n        // if (this.state.evals[0] != null) {\n        //     console.log(this.state.evals[0][3])\n        //     var instructor = document.createElement(\"P\");\n        //     var instrText = document.createTextNode(\"Instructor(s): \" + this.state.evals[0][3]);\n        //     instructor.appendChild(instrText);\n        //     var descr = document.createElement(\"P\");\n        //     var descrText = document.createTextNode(\"Description: \" + this.state.evals[0][10]);\n        //     descr.appendChild(descrText);\n        //     document.getElementById(\"hi\").appendChild(document.createElement(\"HR\"));\n        //     document.getElementById(\"hi\").appendChild(instructor);\n        //     document.getElementById(\"hi\").appendChild(descr);\n        // }\n        return React.createElement(\"div\", {\n          class: \"card text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"card-header\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36\n          },\n          __self: this\n        }, this.props.classInfo[1]), React.createElement(\"div\", {\n          class: \"card-body\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39\n          },\n          __self: this\n        }, React.createElement(\"h5\", {\n          class: \"card-title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40\n          },\n          __self: this\n        }, this.props.classInfo[2]), React.createElement(\"p\", {\n          class: \"card-text\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41\n          },\n          __self: this\n        }, this.props.classInfo[3]), React.createElement(\"a\", {\n          href: \"#\",\n          class: \"btn btn-primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42\n          },\n          __self: this\n        }, \"Add Evaluation\"), React.createElement(\"a\", {\n          href: \"#\",\n          class: \"btn btn-primary\",\n          onClick: this.handleEvalClick,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43\n          },\n          __self: this\n        }, \"Read Evaluations\")), React.createElement(\"div\", {\n          class: \"eval-body\",\n          id: \"hi\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46\n          },\n          __self: this\n        }, this.state.evals[0])));\n      } else {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        });\n      }\n    }\n  }]);\n\n  return CardList;\n}(Component); // class CardList extends Component {\n//   render() {\n//     return <Card id={this.props.classInfo[0]} course={this.props.classInfo[1]} name={this.props.classInfo[2]} d={this.props.classInfo[3]}/>;\n//   }\n// }\n\n\nexport default CardList;","map":{"version":3,"sources":["/Users/paola/go/src/Info441FinalProject/clients/src/Components/CardList.js"],"names":["React","Component","api","CardList","props","setError","error","setState","handleEvalClick","evals","getEvals","classInfo","courseID","fetch","base","handlers","courses","method","response","status","text","json","length","currEvals","state","forEach","e","evalInfo","id","studentID","instructors","year","quarter","creditType","credits","workload","gradingTechniques","description","likedUsers","dislikedUsers","createdAt","editedAt","push","instructor","document","createElement","instrText","createTextNode","appendChild","descr","descrText","created","createdText","getElementById"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"../Styles/App.css\";\nimport api from './../Constants/APIEndpoints/APIEndpoints';\n\nclass CardList extends Component {\n    setError = (error) => {\n        this.setState({ error })\n    }\n\n    constructor(props) {\n        super(props);\n    \n        this.state = {\n          evals: []\n        };\n    }\n\n    render() {\n        if (this.props.classInfo.length != 0) {\n            // if (this.state.evals[0] != null) {\n            //     console.log(this.state.evals[0][3])\n            //     var instructor = document.createElement(\"P\");\n            //     var instrText = document.createTextNode(\"Instructor(s): \" + this.state.evals[0][3]);\n            //     instructor.appendChild(instrText);\n\n            //     var descr = document.createElement(\"P\");\n            //     var descrText = document.createTextNode(\"Description: \" + this.state.evals[0][10]);\n            //     descr.appendChild(descrText);\n\n            //     document.getElementById(\"hi\").appendChild(document.createElement(\"HR\"));\n            //     document.getElementById(\"hi\").appendChild(instructor);\n            //     document.getElementById(\"hi\").appendChild(descr);\n            // }\n            return (\n                <div class=\"card text-center\">\n                    <div class=\"card-header\">\n                        {this.props.classInfo[1]} \n                    </div>\n                    <div class=\"card-body\">\n                        <h5 class=\"card-title\">{this.props.classInfo[2]}</h5>\n                        <p class=\"card-text\">{this.props.classInfo[3]}</p>\n                        <a href=\"#\" class=\"btn btn-primary\">Add Evaluation</a>\n                        <a href=\"#\" class=\"btn btn-primary\" onClick={this.handleEvalClick}>Read Evaluations</a>\n                    </div>\n                    <div class=\"eval-body\" id=\"hi\">\n                        <p>{this.state.evals[0]}</p>\n                    </div>\n                </div>\n            );\n        } else {\n            return (\n                <div></div>\n            );\n        }\n    }\n\n    handleEvalClick = () => {\n        this.setState({\n          evals: []\n        }, () => {\n          this.getEvals(this.props.classInfo[0])\n          //this.getEvals()\n        })\n      }\n\n    getEvals = async (courseID) => {\n        const response = await fetch(api.base + api.handlers.courses + \"/\" + courseID + \"/evaluations\", {method: \"GET\"});\n        if (response.status >= 300) {\n        const error = await response.text();\n        this.setError(error);\n        return;\n        }\n\n        const evals = await response.json();\n        \n        // check if there is more than one evaluation for course \n        if (evals.length > 0) {\n            // get current evals saved in state\n            let currEvals = this.state.evals;\n\n            // for each evaluation:\n            // -- create array containg all eval information to display\n            // -- add eval to currEvals (for state)\n            evals.forEach(function(e) {\n                let evalInfo = [e.id, e.studentID, e.courseID, e.instructors[0]['name'], e.year, e.quarter, e.creditType, e.credits, e.workload, e.gradingTechniques, e.description, e.likedUsers.length, e.dislikedUsers.length, e.createdAt, e.editedAt]\n\n                currEvals.push(evalInfo);\n            })\n\n            this.setState({\n                evals: currEvals\n            })\n            this.setError(\"\");\n\n            // add evaluations to page \n            if (this.state.evals[0] != null) {\n                // instructor \n                var instructor = document.createElement(\"P\");\n                var instrText = document.createTextNode(\"Instructor(s): \" + this.state.evals[0][3]);\n                instructor.appendChild(instrText);\n\n                // description\n                var descr = document.createElement(\"P\");\n                var descrText = document.createTextNode(\"Description: \" + this.state.evals[0][10]);\n                descr.appendChild(descrText);\n\n                // created at \n                var created = document.createElement(\"P\");\n                var createdText = document.createTextNode(\"Description: \" + this.state.evals[0][13]);\n                created.appendChild(createdText);\n\n                document.getElementById(\"hi\").appendChild(document.createElement(\"HR\"));\n                document.getElementById(\"hi\").appendChild(instructor);\n                document.getElementById(\"hi\").appendChild(descr);\n                document.getElementById(\"hi\").appendChild(created);\n            }\n        } else {\n            this.setState({\n                evals: [\"no evaluations for this course\"]\n            })\n        }\n    }\n}\n// class CardList extends Component {\n//   render() {\n//     return <Card id={this.props.classInfo[0]} course={this.props.classInfo[1]} name={this.props.classInfo[2]} d={this.props.classInfo[3]}/>;\n//   }\n// }\nexport default CardList;"]},"metadata":{},"sourceType":"module"}