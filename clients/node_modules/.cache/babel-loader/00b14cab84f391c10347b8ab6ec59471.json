{"ast":null,"code":"import _regeneratorRuntime from \"/Users/paola/go/src/Info441FinalProject/clients/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/paola/go/src/Info441FinalProject/clients/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/paola/go/src/Info441FinalProject/clients/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/paola/go/src/Info441FinalProject/clients/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/paola/go/src/Info441FinalProject/clients/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/paola/go/src/Info441FinalProject/clients/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/paola/go/src/Info441FinalProject/clients/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/paola/go/src/Info441FinalProject/clients/src/Components/Home.js\";\nimport React, { Component } from \"react\";\nimport \"../Styles/App.css\";\nimport api from './../Constants/APIEndpoints/APIEndpoints';\nimport Errors from './Errors/Errors';\nimport Footer from \"./Footer\";\nimport CardList from \"./CardList\";\n\nvar Home =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Home, _Component);\n\n  // submitForm = async (e) => {\n  //   e.preventDefault();\n  //   const { email, password } = this.state;\n  //   const sendData = { email, password };\n  //   const response = await fetch(api.base + api.handlers.sessions, {\n  //     method: \"POST\",\n  //     body: JSON.stringify(sendData),\n  //     headers: new Headers({\n  //       \"Content-Type\": \"application/json\"\n  //     })\n  //   });\n  //   if (response.status >= 300) {\n  //     const error = await response.text();\n  //     this.setError(error);\n  //     return;\n  //   }\n  // }\n  function Home(props) {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Home).call(this, props));\n\n    _this.setError = function (error) {\n      _this.setState({\n        error: error\n      });\n    };\n\n    _this.getInfo =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var courseCode, response, error, courses, currCourses;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              courseCode = _this.state.courseCode;\n              _context.next = 3;\n              return fetch(api.base + api.handlers.courses + '?code=' + courseCode, {\n                method: \"GET\"\n              });\n\n            case 3:\n              response = _context.sent;\n\n              if (!(response.status >= 300)) {\n                _context.next = 10;\n                break;\n              }\n\n              _context.next = 7;\n              return response.text();\n\n            case 7:\n              error = _context.sent;\n\n              _this.setError(error);\n\n              return _context.abrupt(\"return\");\n\n            case 10:\n              _context.next = 12;\n              return response.json();\n\n            case 12:\n              courses = _context.sent;\n\n              if (courses.length >= 1) {\n                currCourses = _this.state.results;\n                courses.forEach(function (c) {\n                  var cToAdd = [c.id, c.code, c.title, c.description];\n                  currCourses.push(cToAdd);\n                });\n\n                _this.setState({\n                  //results: [courses[0].id, courses[0].code, courses[0].title, courses[0].description], \n                  currCourses: currCourses\n                });\n\n                _this.setError(\"\");\n              } else {\n                _this.setState({\n                  results: [\"no results\"]\n                });\n              }\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    _this.handleInputChange = function () {\n      _this.setState({\n        courseCode: _this.search.value,\n        results: [],\n        evals: []\n      }, function () {\n        _this.getInfo(); //this.getEvals(this.state.results[0])\n\n      });\n    };\n\n    _this.state = {\n      courseCode: \"\",\n      results: [],\n      error: \"\"\n    };\n    return _this;\n  }\n  /**\n   * @description setError sets the error message\n   */\n\n\n  _createClass(Home, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var error = this.state.error;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"card mb-3 text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"card-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"Find Course Evaluations\")), React.createElement(\"div\", {\n        class: \"card-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"searchBar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        class: \"btn btn-lg \",\n        id: \"textInput\",\n        placeholder: \"e.g. INFO, INFO441...\",\n        ref: function ref(input) {\n          return _this2.search = input;\n        },\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        type: \"button\",\n        class: \"btn btn-lg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"Search\"))), React.createElement(Errors, {\n        error: error,\n        setError: this.setError,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        style: {\n          verticalAlign: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"main\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"section\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(CardList, {\n        classInfo: this.state.results,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      })))), React.createElement(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return Home;\n}(Component);\n\nexport default Home;","map":{"version":3,"sources":["/Users/paola/go/src/Info441FinalProject/clients/src/Components/Home.js"],"names":["React","Component","api","Errors","Footer","CardList","Home","props","setError","error","setState","getInfo","courseCode","state","fetch","base","handlers","courses","method","response","status","text","json","length","currCourses","results","forEach","c","cToAdd","id","code","title","description","push","handleInputChange","search","value","evals","input","verticalAlign"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"../Styles/App.css\";\nimport api from './../Constants/APIEndpoints/APIEndpoints';\nimport Errors from './Errors/Errors';\nimport Footer from \"./Footer\";\nimport CardList from \"./CardList\";\n\nclass Home extends Component {\n  // submitForm = async (e) => {\n  //   e.preventDefault();\n  //   const { email, password } = this.state;\n  //   const sendData = { email, password };\n  //   const response = await fetch(api.base + api.handlers.sessions, {\n  //     method: \"POST\",\n  //     body: JSON.stringify(sendData),\n  //     headers: new Headers({\n  //       \"Content-Type\": \"application/json\"\n  //     })\n  //   });\n  //   if (response.status >= 300) {\n  //     const error = await response.text();\n  //     this.setError(error);\n  //     return;\n  //   }\n  // }\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      courseCode: \"\",\n      results: [],\n      error: \"\"\n    };\n  }\n\n\n  /**\n   * @description setError sets the error message\n   */\n  setError = (error) => {\n      this.setState({ error })\n  }\n\n  // GET /v1/courses?code=\n  getInfo = async () => {\n    const courseCode = this.state.courseCode;\n    const response = await fetch(api.base + api.handlers.courses + '?code=' + courseCode, {\n      method: \"GET\",\n    });\n    if (response.status >= 300) {\n      const error = await response.text();\n      this.setError(error);\n      return;\n    }\n    const courses = await response.json();\n    if (courses.length >= 1) {  \n      var currCourses = this.state.results;\n      courses.forEach(function(c) {\n        var cToAdd = [c.id, c.code, c.title, c.description];\n        currCourses.push(cToAdd);\n      })\n\n      this.setState({\n        //results: [courses[0].id, courses[0].code, courses[0].title, courses[0].description], \n        currCourses: currCourses\n      })\n      this.setError(\"\");\n    } else {\n      this.setState({\n        results: [\"no results\"]\n      })\n    }\n  }\n\n  handleInputChange = () => {\n    this.setState({\n      courseCode: this.search.value,\n      results: [],\n      evals: []\n    }, () => {\n      this.getInfo()\n      \n      //this.getEvals(this.state.results[0])\n    })\n  }\n\n\n  render() {\n    const { error } = this.state;\n    return (\n      <div>\n        <div>\n          <div class=\"card mb-3 text-center\">\n            <div class=\"card-header\">\n              <h1>Find Course Evaluations</h1>\n            </div>\n            <div class=\"card-body\">\n              <form >\n                <div class=\"searchBar\">\n                  <input type=\"text\" class=\"btn btn-lg \" id=\"textInput\"\n                    placeholder=\"e.g. INFO, INFO441...\"\n                    ref={input => this.search = input}\n                    onChange={this.handleInputChange}\n                  />\n                  <button type=\"button\" class=\"btn btn-lg\">Search</button>\n                </div>\n              </form>\n              <Errors error={error} setError={this.setError} />\n            </div>\n          </div>\n          <div style={{ verticalAlign: \"center\" }}>\n            <main>\n              <div>\n                <section>\n                  <CardList classInfo={this.state.results}/>\n                  \n                  {/* {this.state.results.map(data => {\n                      return (\n                          <CardList classInfo={this.state.results}/>\n                      );\n                  })} */}\n                </section>\n              </div>\n            </main>\n            <Footer />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}